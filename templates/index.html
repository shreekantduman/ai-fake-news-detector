<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AI Fake News Detector</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ“° AI Fake News Detector</h1>
            <p>Detect fake news using AI, NLI fact-checking & ML predictions</p>
        </header>

        {% if warning %}
            <div class="alert">{{ warning }}</div>
        {% endif %}

        <form method="POST" enctype="multipart/form-data">
            <div class="form-group">
                <label for="news_text">Paste News Text:</label>
                <textarea name="news_text" id="news_text" placeholder="Enter news text here...">{{ request.form.news_text }}</textarea>
            </div>

            <div class="form-group">
                <label for="news_image">Or Upload News Image (OCR):</label>
                <input type="file" name="news_image" id="news_image" accept="image/*">
            </div>

            <button type="submit">Analyze News</button>
        </form>

        {% if translated %}
        <div class="results">
            <div class="card">
                <h2>Translated Text (English)</h2>
                <p>{{ translated }}</p>
            </div>

            <div class="card">
                <h2>ML Prediction</h2>
                <p>{{ ml_result if ml_result else 'Not Available' }}</p>
            </div>

            <div class="card">
                <h2>Fact-Check Result</h2>
                <p>{{ final_result if final_result else 'Unknown' }}</p>
            </div>

            <div class="card">
                <h2>Extracted Entities</h2>
                {% if entities %}
                    <ul>
                        {% for key, vals in entities.items() %}
                            <li><strong>{{ key }}:</strong> {{ vals|join(', ') if vals else 'None' }}</li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p>None detected</p>
                {% endif %}
            </div>
        </div>
        {% endif %}

        <footer>
            <p>Powered by AI | OCR | ML | NLI Fact-Checking</p>
            <img src="{{ url_for('static', filename='ai.gif') }}" alt="AI Animation" class="footer-gif">
        </footer>
    </div>
</body>
</html>
